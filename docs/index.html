<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Partisan Phrases — What Language Divides the Senate?</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
</head>
<body>
  <header>
    <h1>Partisan Phrases</h1>
    <p class="subtitle">Which words and phrases are used most by Democrats vs. Republicans in the U.S. Senate?</p>
    <p class="description">Each bubble is a phrase. <span class="blue">Blue</span> phrases lean Democratic, <span class="red">red</span> phrases lean Republican. Click a bubble for details.</p>
  </header>

  <div id="controls">
    <input type="text" id="search-input" placeholder="Search phrases…" autocomplete="off">
    <div id="ngram-filter">
      <button class="ngram-btn active" data-ngram="0">All</button>
      <button class="ngram-btn" data-ngram="1">1-word</button>
      <button class="ngram-btn" data-ngram="2">2-word</button>
      <button class="ngram-btn" data-ngram="3">3-word</button>
    </div>
    <button id="btn-show-more">Show next 300</button>
    <span id="phrase-count"></span>
  </div>

  <div id="bubble-container">
    <svg id="bubble-svg"></svg>
  </div>

  <div id="panel" class="panel hidden">
    <button id="panel-close">&times;</button>
    <h2 id="panel-phrase"></h2>
    <div id="panel-stats"></div>
    <div id="panel-chart-container">
      <canvas id="panel-chart"></canvas>
    </div>
    <h3>Example Quotes</h3>
    <button id="btn-more-quotes" class="hidden">Sample 10 More Random Quotes</button>
    <div id="panel-quotes"></div>
  </div>

  <div id="panel-overlay" class="hidden"></div>

  <footer>
    <p>Data sourced from <a href="https://justfacts.votesmart.org/">VoteSmart</a>. Updated weekly. <a href="https://github.com/jackbandy/partisan-phrases">Source code</a>.</p>
    <p>Includes phrases used 20+ times across all legislators since January 2025.</p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
